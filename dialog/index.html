<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--删除苹果默认的工具栏和菜单栏-->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!--设置苹果工具栏颜色-->
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <!--忽略页面中的数字识别为电话-->
    <meta name="format-detection" content="telephone=no,email=no">
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/dialgo.css">
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        body {
            font-size: 12px;
            padding: 20px;
        }

        button {
            color: #fff;
            display: block;
            width: 100%;
            padding: 10px;
            margin: 20px 0;
            background-color: lightseagreen;
            border: 1px solid #fff;
            border-radius: 10px;
        }
    </style>
    <script src="js/zepto.js"></script>
    <!--必须要引入zepto的touch插件才可以使用tap事件，且在firefox中无效-->
    <script src="js/zepto.touch.js"></script>

</head>

<body>
    <button id="btn1">没有任何参数传递</button>
    <button id="btn2">弹出一个不带任何按钮，且是警告的框，并且两秒后自动关闭</button>
    <button id="btn3">弹出一个有确认的取消的按钮的成功框，点击按钮直接关闭</button>
    <button id="btn4">弹出一个有确认的警告框，点击按钮不可以关闭</button>
    <button id="btn5">弹出一个多组合的按钮框，且按钮样式可以定制</button>
    <button id="btn6">模拟异步操作</button>
    <button id="btn7">带动画的弹出框</button>
    <button id="btn8">延时关闭加回调</button>
    <button id="btn9">点击遮罩层是否可以关闭</button>

    <!--<div class="web组件开发-dialog-container">-->
    <!--<div class="web组件开发-dialog-window">-->
    <!--<div class="web组件开发-dialog-header">-->
    <!--对话框-->
    <!--</div>-->
    <!--<div class="web组件开发-dialog-content">-->
    <!--你是否要清空购物车-->
    <!--</div>-->
    <!--<div class="web组件开发-dialog-footer">-->
    <!--<button class="success">确定</button>-->
    <!--<button class="danger">关闭</button>-->
    <!--<button>取消</button>-->
    <!--</div>-->
    <!--</div>-->
    <!--</div>-->
    <script src="js/dialog.js"></script>
    <script>
        $("#btn1").tap($.dialog);

        $("#btn2").tap(function () {
            $.dialog({
                type: 'waiting',
                delay: 2000,
                message: 'waiting dialog 2s后关闭'
            })
        });

        $("#btn3").tap(function () {
            $.dialog({
                type: 'warning',
                message: '点击后关闭',
                buttons: [{
                    type: 'success',
                    text: '确认'
                }, {
                    type: "danger",
                    text: '取消'
                }]
            })
        });

        $('#btn4').tap(function () {
            $.dialog({
                type: 'ok',
                message: '点击不关闭',
                // 这里有事件冒泡的坑
                maskClickable: true,
                buttons: [{
                    type: 'success',
                    text: '确认',
                    callback: function () {
                        return false;
                    }
                }]
            })
        });

        $('#btn5').tap(function () {
            $.dialog({
                type: 'warning',
                message: '自定义按钮组',
                buttons: [{
                    type: 'success',
                    text: 'success'
                }, {
                    type: 'danger',
                    text: 'danger'
                }, {
                    text: 'default'
                }]
            })
        });

        $('#btn6').tap(function () {
            $.dialog({
                type: 'warning',
                message: '提交信息？',
                buttons: [{
                    type: 'success',
                    text: '确认',
                    callback: function () {
                        var waiting = $.dialog({
                            type: 'waiting',
                            message: '异步执行中'
                        });
                        setTimeout(function () {
                            waiting.removeDialog()
                        }, 3000);
                    }
                }, {
                    type: "default",
                    text: '取消',
                }]
            })
        });

        $("#btn7").tap(function () {
            $.dialog({
                bomb: true
            })
        });

        $("#btn8").tap(function () {
            $.dialog({
                message: '2s后关闭并执行操作',
                delay: 2000,
                delayFun: function () {
                    console.log(1);
                }
            })
        });

        $("#btn9").tap(function () {
            $.dialog({
                message: '点击遮罩层关闭',
                maskClickable: true
            });
        });
    // $.web组件开发-dialog({
    //     // 对话框的类型
    //     type: 'waiting',
    //     // 按钮配置
    //     buttons: [{
    //         type: 'success',
    //         text: '确定',
    //         callback: function () {
    //             console.log('helloworld');
    //             return false;
    //         }
    //     }, {
    //         type: 'danger',
    //         text: '取消',
    //         callback: function () {
    //             console.log('hello,zcy');
    //             return true;
    //         }
    //     }],
    //     // 延迟多久关闭
    //     delay: null,
    //     // 提示信息
    //     message: '你还好吗',
    //     // 对话框宽高
    //     width: 150,
    //     // 对话框遮罩层透明度
    //     maskOpacity: 0.4
    // });
    </script>
</body>

</html>